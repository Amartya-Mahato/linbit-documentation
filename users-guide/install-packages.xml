<!DOCTYPE chapter PUBLIC "-//OASIS//DTD DocBook XML V4.5//EN" "http://www.oasis-open.org/docbook/xml/4.5/docbookx.dtd">
<chapter id="ch-install-packages">
  <title>Installing pre-built DRBD binary packages</title>
  <section id="s-linbit-packages">
    <title>Packages supplied by LINBIT</title>
    <para><indexterm>
	<primary>binary DRBD packages</primary>
	<secondary>LINBIT DRBD packages</secondary>
    </indexterm>LINBIT, the DRBD project's sponsor company, provides
      DRBD binary packages to its commercial support customers. These
      packages are available at <ulink
	url="http://www.linbit.com/support/"/> and are considered
      "official" DRBD builds.</para>
    <para>These builds are available for the following distributions:
      <indexterm>
	<primary>supported platforms (LINBIT binary DRBD
	packages)</primary>
      </indexterm>
      <itemizedlist>
	<listitem>
	  <para>Red Hat Enterprise Linux (RHEL), versions 4 and
	    5</para>
	</listitem>
	<listitem><para><indexterm>
	      <primary>SLES</primary>
	    </indexterm><indexterm>
	      <primary>SUSE Linux Enterprise Server</primary>
	      <see>SLES</see>
	    </indexterm>SUSE Linux Enterprise Server (SLES), versions
	    9 and 10</para>
	</listitem>
	<listitem>
	  <para><indexterm>
	      <primary>Debian GNU/Linux</primary>
	    </indexterm>Debian GNU/Linux, version 4.0
	    (<code>etch</code>)</para>
	</listitem>
	<listitem>
	  <para><indexterm>
	      <primary>Ubuntu Linux</primary>
	    </indexterm>Ubuntu Server Edition LTS, version 6.06
	    (Dapper Drake)</para>
	</listitem>
      </itemizedlist> LINBIT releases binary builds in parallel with
      any new DRBD source release.</para>
    <para>Package installation on RPM-based systems (SLES, RHEL) is
      done by simply invoking <command>rpm -i</command> (for new
      installations) or <command>rpm -U</command> (for upgrades),
      along with the corresponding <filename>drbd</filename> and
      <filename>drbd-km</filename> package names. </para>
    <para>For Debian-based systems (Debian GNU/Linux, Ubuntu) systems,
      <filename>drbd8-utils</filename> and
      <filename>drbd8-module</filename> packages are installed with
      <command>dpkg -i</command>, or <command>gdebi</command> if
      available.</para>
  </section>
  <section id="s-distro-packages">
    <title>Packages supplied by distribution vendors</title>
    <para><indexterm>
	<primary>binary DRBD packages</primary>
	<secondary>distribution vendor packages</secondary>
    </indexterm>A number of distributions include DRBD, including
      pre-built binary packages. Support for these builds, if any, is
      being provided by the associated distribution vendor. Their
      release cycle may lag behind DRBD source releases.</para>
    <itemizedlist>
      <listitem>
	<indexterm>
	  <primary>SLES</primary>
	</indexterm>
	<indexterm>
	  <primary>SUSE Linux Enterprise Server</primary>
	  <see>SLES</see>
	</indexterm>
	<para>SUSE Linux Enterprise Server (SLES), includes DRBD in
	  versions 9 and 10, however as of SLES 10 SP1 supports only
	  DRBD version 0.7.</para>
	<para>On SLES, DRBD is normally installed via the software
	  installation component of YaST2. It comes bundled with
	  the <quote>High Availability</quote> package
	  selection.</para>
	<para>Users who prefer a command line install may simply
	  issue:
	  <programlisting>yast -i drbd</programlisting> or
	  <programlisting>rug install drbd</programlisting>.</para>
      </listitem>
      <listitem>
	<indexterm>
	  <primary>Debian GNU/Linux</primary>
	</indexterm>
	<para>Debian GNU/Linux includes DRBD 8 from the forthcoming
	  release <code>lenny</code> onwards, and has included DRBD
	  0.7 since Debian 3.1 (<code>sarge</code>).</para>
	<para>On <code>lenny</code> (which now includes pre-compiled
	  DRBD kernel modules and no longer requires the use of
	  <command>module-assistant</command>), you install DRBD by
	  issuing:</para>
	<literallayout><userinput>apt-get install drbd8-utils drbd8-module</userinput></literallayout>
	<para>On Debian 3.1 and 4.0, you must issue the following
	  commands:
	  <literallayout><userinput>apt-get install drbd0.7-utils drbd0.7-module-source \
  build-essential module-assistant
module-assistant auto-install drbd0.7</userinput></literallayout>
	  See <xref linkend="s-build-deb"/> for details on the
	  installation process involving
	  <command>module-assistant</command>.</para>
      </listitem>
      <listitem>
	<para><indexterm><primary>CentOS</primary></indexterm>CentOS
	  has had DRBD 8 since release 5; DRBD 0.7 was included
	  release 4.</para>
	<para>DRBD can be installed using <command>yum</command>
	  (note that you will need the <code>extras</code>
	  repository enabled for this to work):
	  <literallayout><userinput>yum install drbd kmod-drbd</userinput></literallayout>
	</para>
      </listitem>
      <listitem>
	<para><indexterm>
	    <primary>Ubuntu Linux</primary>
	</indexterm>Ubuntu includes DRBD 8 since release 7.10 (Gutsy
	  Gibbon), and has had DRBD 0.7 since release 6.06 (Dapper
	  Drake). To get DRBD, you need to enable the
	  <code>universe</code> component for your preferred Ubuntu
	  mirror in <filename>/etc/apt/sources.list</filename>, and
	  then issue these commands:
	  <literallayout><userinput>apt-get update
apt-get install drbd8-utils drbd8-module-source \
  build-essential module-assistant
module-assistant auto-install drbd8</userinput></literallayout>
	</para>
	<warning>
	  <para>Ubuntu 6.10 (Edgy Eft) and 7.04 (Feisty Fawn) both
	    contained <emphasis>pre-release</emphasis> versions of
	    DRBD 8 that were never intended to be used on a production
	    system. The DRBD 0.7 version also included in these Ubuntu
	    releases, however, is fit for production use (albeit now
	    outdated).</para>
	</warning>
      </listitem>
    </itemizedlist>
  </section>
</chapter>
